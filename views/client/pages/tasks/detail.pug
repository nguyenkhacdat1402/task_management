extends ../../layouts/default

block main
  .task-detail-page(style="min-height:100vh; background:linear-gradient(135deg, #fce4ec 0%, #e1bee7 100%); padding:40px 0;")
    .container
      .row.justify-content-center
        .col-lg-8
          .card.shadow-lg(style="border-radius:14px;")
            .card-body.p-5

              // --- TITLE ---
              h2.mb-3.font-weight-bold(style="color:#7c4dff;")
                i.fas.fa-tasks.mr-2
                | #{task.title}

              // --- STATUS ---
              if task.status === 'completed'
                span.badge.badge-success.px-3.py-2.mb-4
                  i.fas.fa-check-circle.mr-1
                  | Hoàn thành
              else if task.status === 'pending'
                span.badge.badge-warning.px-3.py-2.mb-4
                  i.fas.fa-clock.mr-1
                  | Chưa làm
              else
                span.badge.badge-secondary.px-3.py-2.mb-4
                  i.fas.fa-hourglass-half.mr-1
                  | Đang xử lý

              hr

              // --- CONTENT ---
              h5.text-muted.mt-3 Nội dung công việc:
              p.mt-2(style="font-size:1.1rem; white-space:pre-line;") #{task.content}

              hr

              // --- META INFO ---
              .mt-4

                // Format ngày trong pug
                -
                  const createdFormat = new Date(task.createdAt).toLocaleString("vi-VN", {
                    hour12: false
                  });

                p.mb-2
                  strong Người tạo: 
                  |  #{task.createBy}

                p.mb-2
                  strong Ngày tạo: 
                  |  #{createdFormat}

                p.mb-2
                  strong Trạng thái: 
                  |  #{task.status}

              hr

              // --- ACTION BUTTONS ---
              .mt-4.d-flex.justify-content-between
                a.btn.btn-secondary(href="/task") 
                  i.fas.fa-arrow-left.mr-2
                  | Quay lại

                a.btn.btn-primary(href=`/task/edit/${task._id}`)
                  i.fas.fa-edit.mr-2
                  | Chỉnh sửa
