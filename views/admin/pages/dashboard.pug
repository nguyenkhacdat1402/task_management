extends ../layouts/default
include ../mixins/alert.pug

block main
  +alert-error(5000)
  +alert-success(5000)

  .container-fluid.mt-4
    .row
      // ===== USER =====
      .col-lg-6.mb-4
        h5.text-muted.mb-3 User 

        .row
          .col-lg-4.col-md-6.mb-3
            .card.border-primary.shadow-sm.h-100
              .card-body.text-center
                h6.text-primary Total Users
                h3 #{statistic.user.total}

          .col-lg-4.col-md-6.mb-3
            .card.border-success.shadow-sm.h-100
              .card-body.text-center
                h6.text-success Active
                h3 #{statistic.user.active}

          .col-lg-4.col-md-6.mb-3
            .card.border-danger.shadow-sm.h-100
              .card-body.text-center
                h6.text-danger Banned
                h3 #{statistic.user.inactive}

        .card.shadow-sm.mt-3.h-100
          .card-body
            h6.text-center.mb-2 User Status
            .chart-wrapper
              canvas#userChart

      // ===== TASK =====
      .col-lg-6.mb-4
        h5.text-muted.mb-3 Task

        .row
          .col-lg-4.col-md-6.mb-3
            .card.border-info.shadow-sm.h-100
              .card-body.text-center
                h6.text-info Total
                h3 #{statistic.task.total}

          .col-lg-4.col-md-6.mb-3
            .card.border-success.shadow-sm.h-100
              .card-body.text-center
                h6.text-success Finished
                h3 #{statistic.task.finish}

          .col-lg-4.col-md-6.mb-3
            .card.border-warning.shadow-sm.h-100
              .card-body.text-center
                h6.text-warning Pending
                h3 #{statistic.task.pending}

        .card.shadow-sm.mt-3.h-100
          .card-body
            h6.text-center.mb-2 Task Status
            .chart-wrapper
              canvas#taskChart

block pageScripts
  script.
    document.addEventListener('DOMContentLoaded', function () {
      initDashboard({
        user: {
          total: !{statistic.user.total},
          active: !{statistic.user.active},
          banned: !{statistic.user.inactive}
        },
        task: {
          finished: !{statistic.task.finish},
          pending: !{statistic.task.pending}
        }
      });
    });